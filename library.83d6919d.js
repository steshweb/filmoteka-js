!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i);var r=i("sRYpV"),o=i("1KhuP"),a=i("h6c0i"),c="watched",d="queque",l=document.querySelector(".js-watched-btn"),s=document.querySelector(".js-queue-btn"),u=document.querySelector("button[data-watched]"),f=document.querySelector("button[data-queue]"),v=document.querySelectorAll(".modal-btn"),m=document.querySelector(".film-list"),h=document.querySelector(".backdrop"),b=document.querySelector(".modal-close__btn"),g=document.querySelector(".modal-box");function p(){s.classList.add("header-lib-btn_active"),l.classList.remove("header-lib-btn_active");var e=JSON.parse(localStorage.getItem(d));e&&(0,r.fetchFilmsCol)(e).then((function(e){var t=(0,o.creatMarkup)(e);m.innerHTML=t})).catch(console.log)}function y(){s.classList.remove("header-lib-btn_active"),l.classList.add("header-lib-btn_active");var e=JSON.parse(localStorage.getItem(c));e&&(0,r.fetchFilmsCol)(e).then((function(e){var t=(0,o.creatMarkup)(e);m.innerHTML=t})).catch(console.log)}function S(e){"Escape"===e.code&&L()}function L(){h.classList.add("is-hidden"),v.forEach((function(e){e.removeAttribute("data-id")})),window.removeEventListener("keydown",S)}s.addEventListener("click",p),l.addEventListener("click",y),m.addEventListener("click",(function(e){window.addEventListener("keydown",S);var t=Number(e.target.dataset.id);if(!t)return;h.classList.remove("is-hidden"),v.forEach((function(e){e.setAttribute("data-id",t)})),(0,r.fetchFilmById)(t).then((function(e){var t=(0,o.creatCardMarkup)(e);g.innerHTML=t})).catch(console.log)})),b.addEventListener("click",L),u.addEventListener("click",(function(e){var t=Number(e.target.dataset.id),n=JSON.parse(localStorage.getItem(c));if(n&&n.includes(t)){var i=n.indexOf(t);return n.splice(i,1),localStorage.setItem(c,JSON.stringify(n)),y(),a.Notify.success("Movie removed from Watched"),void L()}a.Notify.warning("The movie is not in the Watched")})),f.addEventListener("click",(function(e){var t=Number(e.target.dataset.id),n=JSON.parse(localStorage.getItem(d));if(n&&n.includes(t)){var i=n.indexOf(t);return n.splice(i,1),localStorage.setItem(d,JSON.stringify(n)),a.Notify.success("Movie removed from Queue"),p(),void L()}a.Notify.warning("The movie is not in the Queue")})),h.addEventListener("click",(function(e){"backdrop"===e.target.className&&h.classList.add("is-hidden")})),y()}();
//# sourceMappingURL=library.83d6919d.js.map
