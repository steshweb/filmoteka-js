var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var c={id:e,exports:{}};return t[e]=c,o.call(c.exports,c,c.exports),c.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var c=o("9TCtp"),i=o("3huUq"),r=o("iQIUW");const a=document.querySelector(".js-watched-btn"),d=document.querySelector(".js-queue-btn"),s=document.querySelector("button[data-watched]"),l=document.querySelector("button[data-queue]"),u=document.querySelectorAll(".modal-btn"),f=document.querySelector(".film-list"),m=document.querySelector(".backdrop"),h=document.querySelector(".modal-close__btn"),v=document.querySelector(".modal-box");function b(){d.classList.add("header-lib-btn_active"),a.classList.remove("header-lib-btn_active");const e=JSON.parse(localStorage.getItem("queque"));e&&(0,c.fetchFilmsCol)(e).then((e=>{const t=(0,i.creatMarkup)(e);f.innerHTML=t})).catch(console.log)}function g(){d.classList.remove("header-lib-btn_active"),a.classList.add("header-lib-btn_active");const e=JSON.parse(localStorage.getItem("watched"));e&&(0,c.fetchFilmsCol)(e).then((e=>{const t=(0,i.creatMarkup)(e);f.innerHTML=t})).catch(console.log)}function p(e){"Escape"===e.code&&y()}function y(){m.classList.add("is-hidden"),u.forEach((e=>{e.removeAttribute("data-id")})),window.removeEventListener("keydown",p)}d.addEventListener("click",b),a.addEventListener("click",g),f.addEventListener("click",(function(e){window.addEventListener("keydown",p);const t=Number(e.target.dataset.id);if(!t)return;m.classList.remove("is-hidden"),u.forEach((e=>{e.setAttribute("data-id",t)})),(0,c.fetchFilmById)(t).then((e=>{const t=(0,i.creatCardMarkup)(e);v.innerHTML=t})).catch(console.log)})),h.addEventListener("click",y),s.addEventListener("click",(function(e){const t=Number(e.target.dataset.id),n=JSON.parse(localStorage.getItem("watched"));if(n&&n.includes(t)){const e=n.indexOf(t);return n.splice(e,1),localStorage.setItem("watched",JSON.stringify(n)),g(),r.Notify.success("Movie removed from Watched"),void y()}r.Notify.warning("The movie is not in the Watched")})),l.addEventListener("click",(function(e){const t=Number(e.target.dataset.id),n=JSON.parse(localStorage.getItem("queque"));if(n&&n.includes(t)){const e=n.indexOf(t);return n.splice(e,1),localStorage.setItem("queque",JSON.stringify(n)),r.Notify.success("Movie removed from Queue"),b(),void y()}r.Notify.warning("The movie is not in the Queue")})),m.addEventListener("click",(e=>{"backdrop"===e.target.className&&m.classList.add("is-hidden")})),g();
//# sourceMappingURL=library.97f2709f.js.map
